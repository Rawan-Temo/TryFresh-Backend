"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[557],{156:(e,n,t)=>{t.d(n,{A:()=>s});const s=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"justYear";const t=new Date(e),s=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),c=String(t.getDate()).padStart(2,"0");if("justYear"===n)return"".concat(s,"-").concat(r,"-").concat(c);const l=t.getHours()>12?t.getHours()-12:t.getHours(),a=t.getHours()>12?"PM":"AM",o=String(l).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),d=String(t.getSeconds()).padStart(2,"0");return"".concat(s,"-").concat(r,"-").concat(c," / ").concat(o,":").concat(i,":").concat(d," ").concat(a)}},2970:(e,n,t)=>{t.d(n,{d7:()=>l});var s=t(5043);function r(e,n,t,r){var c=this,l=(0,s.useRef)(null),a=(0,s.useRef)(0),o=(0,s.useRef)(0),i=(0,s.useRef)(null),d=(0,s.useRef)([]),u=(0,s.useRef)(),m=(0,s.useRef)(),h=(0,s.useRef)(e),p=(0,s.useRef)(!0);h.current=e;var x="undefined"!=typeof window,v=!n&&0!==n&&x;if("function"!=typeof e)throw new TypeError("Expected a function");n=+n||0;var f=!!(t=t||{}).leading,j=!("trailing"in t)||!!t.trailing,b="maxWait"in t,g="debounceOnServer"in t&&!!t.debounceOnServer,A=b?Math.max(+t.maxWait||0,n):null;(0,s.useEffect)(function(){return p.current=!0,function(){p.current=!1}},[]);var S=(0,s.useMemo)(function(){var e=function(e){var n=d.current,t=u.current;return d.current=u.current=null,a.current=e,o.current=o.current||e,m.current=h.current.apply(t,n)},t=function(e,n){v&&cancelAnimationFrame(i.current),i.current=v?requestAnimationFrame(e):setTimeout(e,n)},s=function(e){if(!p.current)return!1;var t=e-l.current;return!l.current||t>=n||t<0||b&&e-a.current>=A},S=function(n){return i.current=null,j&&d.current?e(n):(d.current=u.current=null,m.current)},y=function e(){var r=Date.now();if(f&&o.current===a.current&&N(),s(r))return S(r);if(p.current){var c=n-(r-l.current),i=b?Math.min(c,A-(r-a.current)):c;t(e,i)}},N=function(){r&&r({})},C=function(){if(x||g){var r=Date.now(),o=s(r);if(d.current=[].slice.call(arguments),u.current=c,l.current=r,o){if(!i.current&&p.current)return a.current=l.current,t(y,n),f?e(l.current):m.current;if(b)return t(y,n),e(l.current)}return i.current||t(y,n),m.current}};return C.cancel=function(){var e=i.current;e&&(v?cancelAnimationFrame(i.current):clearTimeout(i.current)),a.current=0,d.current=l.current=u.current=i.current=null,e&&r&&r({})},C.isPending=function(){return!!i.current},C.flush=function(){return i.current?S(Date.now()):m.current},C},[f,b,n,A,j,v,x,g,r]);return S}function c(e,n){return e===n}function l(e,n,t){var l=t&&t.equalityFn||c,a=(0,s.useRef)(e),o=(0,s.useState)({})[1],i=r((0,s.useCallback)(function(e){a.current=e,o({})},[o]),n,t,o),d=(0,s.useRef)(e);return l(d.current,e)||(i(e),d.current=e),[a.current,i]}},4061:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(2555),r=t(3986),c=t(5043),l=t(579);const a=["title","labelProps","errorText","helperTextProps","containerProps","elementType"],o=e=>{let{title:n,labelProps:t,errorText:o,helperTextProps:i,containerProps:d,elementType:u}=e,m=(0,r.A)(e,a);const h=(0,c.useMemo)(()=>"".concat(o?"faild-error":""," ").concat((null===d||void 0===d?void 0:d.className)||""),[o,d]);return(0,l.jsxs)("div",(0,s.A)((0,s.A)({},d),{},{className:h+"inp",children:[n&&(0,l.jsx)("label",(0,s.A)((0,s.A)({htmlFor:m.name},t),{},{children:n})),"textarea"===u?(0,l.jsx)("textarea",(0,s.A)({id:m.name,type:"text"},m)):(0,l.jsx)("input",(0,s.A)({id:m.name,type:"text"},m)),o&&(0,l.jsx)("p",(0,s.A)((0,s.A)({className:"color-red"},i),{},{children:o}))]}))},i=(0,c.memo)(o)},4263:(e,n,t)=>{t.d(n,{A:()=>o});var s=t(2555),r=t(3986),c=t(6721),l=t(579);const a=["header","buttonProps","children","isUpdate","oncancel"],o=e=>{let{header:n,buttonProps:t,children:o,isUpdate:i,oncancel:d}=e,u=(0,r.A)(e,a);return(0,l.jsxs)("form",(0,s.A)((0,s.A)({},u),{},{children:[n&&(0,l.jsx)("h2",{children:n}),o,(0,l.jsxs)("div",{className:"form-actions",children:[(0,l.jsx)(c.A,(0,s.A)((0,s.A)({btnType:"main",btnStyleType:"contained",type:"submit"},t),{},{children:"save"})),i&&(0,l.jsx)(c.A,{type:"button",btnType:"cancel",btnStyleType:"outlined",onClick:d,children:"cancel"})]})]}))}},5679:(e,n,t)=>{t.d(n,{A:()=>l});var s=t(5043),r=t(579);const c=e=>{let{values:n,resetForm:t,setFilters:c}=e;(0,s.useCallback)(()=>{c(n)},[c,n]),(0,s.useCallback)(()=>{t()},[t]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("i",{className:"fa-solid fa-check"})," save filters",(0,r.jsx)("i",{className:"fa-solid fa-rotate-right"})," reset filters"]})},l=(0,s.memo)(c)},6046:(e,n,t)=>{t.d(n,{A:()=>I});var s=t(5043),r=t(2555),c=t(579);const l=e=>{let{selectable:n,setSelectedItems:t,selectedItems:l,column:a,setSort:o,data:i}=e;const d=(0,s.useCallback)((e,n)=>{o(t=>{var s;const c=null===(s=t[e.name])||void 0===s?void 0:s.startsWith("-");return n.target.parentElement.className=c?"a-z":"z-a",(0,r.A)((0,r.A)({},t),{},{[e.name]:"".concat(c?"":"-").concat(e.name)})})},[o]),u=(null===l||void 0===l?void 0:l.size)===(null===i||void 0===i?void 0:i.length)&&0!==(null===i||void 0===i?void 0:i.length),m=(0,s.useMemo)(()=>null===a||void 0===a?void 0:a.map(e=>!e.hidden&&(0,c.jsxs)("th",{children:["function"===typeof e.headerName?e.headerName():e.headerName,e.sort&&(0,c.jsx)("i",{className:"fa-solid fa-chevron-right sort",onClick:n=>{d(e,n)}})]},e.headerName)),[a,d]),h=(0,s.useCallback)(()=>{i&&t(()=>{if(u)return new Set;{const e=null===i||void 0===i?void 0:i.map(e=>e._id);return new Set([...e])}})},[i,t,u]);return(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[n&&(0,c.jsx)("th",{children:(0,c.jsx)("div",{className:"".concat(u?"active":""," checkbox select-all"),onClick:h})}),m]})})},a=(0,s.memo)(l),o=e=>{let{loading:n,column:t,data:r,selectable:l,selectedItems:a,setSelectedItems:o,setIsPopUpOpen:i,isPopUpOpen:d,returnRow:u}=e;const[m,h]=(0,s.useState)(!1),p=(0,s.useCallback)(e=>{o(n=>{const t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})},[o]),x=(0,s.useCallback)((e,n)=>e.getCell?e.getCell({row:n,setSelectedItems:o,setIsPopUpOpen:i,isPopUpOpen:d,isCustomPopUpOpen:m,setIsCustomPopUpOpen:h,returnRow:u}):n[e.name],[o,i,d,m,h,u]),v=(0,s.useMemo)(()=>null===r||void 0===r?void 0:r.map(e=>(0,c.jsxs)("tr",{children:[l&&(0,c.jsx)("td",{children:(0,c.jsx)("div",{onClick:()=>p(e._id),className:"checkbox ".concat(null!==a&&void 0!==a&&a.has(e._id)?"active":"")})}),null===t||void 0===t?void 0:t.map(n=>!n.hidden&&(0,c.jsx)("td",{className:n.className,children:x(n,e)},n.name))]},e._id)),[r,t,x,l,a,p]),f=(0,s.useMemo)(()=>(null===t||void 0===t?void 0:t.filter(e=>!e.hidden).length)+(l?1:0),[t,l]);return(0,c.jsx)("tbody",{className:n||v?"relative":"",children:n?(0,c.jsx)("tr",{children:(0,c.jsx)("td",{className:"table-loading",colSpan:f,children:"loading ..."})}):(null===v||void 0===v?void 0:v.length)>0?(0,c.jsx)(c.Fragment,{children:v}):(0,c.jsx)("tr",{children:(0,c.jsx)("td",{className:"no-data",colSpan:f,children:"no data found"})})})},i=(0,s.memo)(o),d=e=>{let{currentPage:n,dataLength:t=0,setPage:r,setSelectedItems:l}=e;const a=(0,s.useMemo)(()=>{const e=Math.ceil(t/10);return function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const s=[];if(e>3+t)s.push(1,2,"...");else for(let r=1;r<Math.min(3,n+1);r++)s.push(r);for(let r=Math.max(1,e-t);r<=Math.min(n,e+t);r++)s.includes(r)||s.push(r);if(e<n-4)s.push("...",n-1,n);else for(let r=Math.max(n-3,1);r<=n;r++)!s.includes(r)&&r>e&&s.push(r);return s}(n,e)},[t,n]),o=(0,s.useCallback)(e=>{r(e),l(new Set)},[r,l]);(0,s.useCallback)(()=>{r(e=>e+1)},[r]),(0,s.useCallback)(()=>{r(e=>e-1)},[r]);return(0,c.jsxs)("footer",{className:"pagination",children:[(0,c.jsx)("div",{className:"page-container",children:null===a||void 0===a?void 0:a.map(e=>"number"===typeof e?(0,c.jsx)("button",{disabled:n===e,onClick:()=>o(e),children:e},e):(0,c.jsxs)("span",{children:[" ",e," "]},e))}),t>0&&(0,c.jsxs)("h2",{children:["number of data : ",(0,c.jsx)("span",{children:t})]})]})},u=(0,s.memo)(d);var m=t(3986),h=t(6721);const p=["isOpen","heading","confirmText","cancelText","onConfirm","onClose","confirmButtonProps","closeButtonProps"],x=e=>{let{isOpen:n=!1,heading:t="",confirmText:s="",cancelText:l="",onConfirm:a=()=>{},onClose:o=()=>{},confirmButtonProps:i={},closeButtonProps:d={}}=e,u=(0,m.A)(e,p);return n?(0,c.jsx)("div",(0,r.A)((0,r.A)({className:"overlay",role:"dialog"},u),{},{onClick:o,children:(0,c.jsxs)("div",{className:"popup",children:[(0,c.jsx)("h1",{children:t||"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0642\u064a\u0627\u0645 \u0628\u0630\u0644\u0643\u061f"}),(0,c.jsxs)("div",{children:[(0,c.jsx)(h.A,(0,r.A)((0,r.A)({},i),{},{onClick:a,type:"button",children:s||"\u0646\u0639\u0645"})),(0,c.jsx)(h.A,(0,r.A)((0,r.A)({},d),{},{onClick:o,btnType:"delete",type:"button",children:l||"\u0644\u0627"}))]})]})})):null},v=(0,s.memo)(x);var f=t(9193),j=t(3248),b=t(7097),g=t(5439);t(7430);const A=["children","className","title","placement","color"],S=e=>{let{children:n,className:t,title:l,placement:a="bottom",color:o="body-color"}=e,i=(0,m.A)(e,A);const d=(0,s.useMemo)(()=>"".concat(t||""," ").concat(o," icon-button"),[t,o]);return(0,c.jsxs)("button",(0,r.A)((0,r.A)({type:i.type||"button"},i),{},{className:d,children:[n,l&&(0,c.jsxs)("p",{className:"".concat(a," icon-button-hover"),children:[" ",l," "]})]}))},y=e=>{let{isOpen:n,children:t}=e;const r=(0,s.useMemo)(()=>"filters-container ".concat(n?"open":""),[n]);return(0,c.jsxs)("div",{className:r,children:[" ",t," "]})},N=(0,s.memo)(y),C=e=>{let{children:n,heading:t,columns:r,setColumns:l,hideDeleteIcon:a,addDataRoute:o,selectedItems:i,setIsPopUpOpen:d,addIcons:u,setSearch:m,hidefilterIcon:h}=e;const p=(0,s.useCallback)(()=>d(!0),[d]),x=(0,s.useMemo)(()=>"fa-solid fa-trash ".concat((null===i||void 0===i?void 0:i.size)>0?"color-red":""),[i.size]),[v,f]=(0,s.useState)(!1),j=(0,s.useCallback)(()=>f(e=>!e),[]),b=(0,s.useMemo)(()=>v?"main":"secondry-color",[v]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("header",{className:"table-toolbar",children:[t&&(0,c.jsx)("h2",{children:t}),(0,c.jsxs)("div",{className:"icons-container",children:[(0,c.jsxs)("label",{htmlFor:"search",children:[(0,c.jsx)("input",{type:"text",id:"search",placeholder:"search for",onInput:e=>m(e.target.value)}),(0,c.jsx)("i",{className:"fa-solid fa-magnifying-glass"})]}),!a&&(0,c.jsx)(S,{placement:"bottom",disabled:0===(null===i||void 0===i?void 0:i.size),title:"delete",color:"secondry-color",children:(0,c.jsx)("i",{onClick:p,className:x})}),o&&(0,c.jsx)(S,{placement:"bottom",title:"add",color:"secondry-color",children:(0,c.jsx)(g.N_,{to:o,className:"fa-solid fa-plus"})}),!h&&(0,c.jsx)(S,{onClick:j,placement:"bottom",title:"filters",color:b,children:(0,c.jsx)("i",{className:"fa-solid fa-filter"})}),u,(0,c.jsx)(w,{columns:r,setColumns:l})]})]}),!h&&(0,c.jsx)(N,{isOpen:v,children:n})]})},k=(0,s.memo)(C),w=e=>{let{columns:n,setColumns:t}=e;const[l,a]=(0,s.useState)(""),o=(0,s.useCallback)(e=>{const s=null===n||void 0===n?void 0:n.map(n=>n.name===e.name?(0,r.A)((0,r.A)({},n),{},{hidden:!n.hidden}):n);t(s)},[n,t]),i=(0,s.useMemo)(()=>null===n||void 0===n?void 0:n.map(e=>{var n;const t="function"===typeof e.headerName?e.headerName():e.headerName;return(!e.allowedTo||(null===(n=e.allowedTo)||void 0===n?void 0:n.includes("admin")))&&(l?(e.name.includes(l)||t.includes(l))&&(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{type:"checkbox",id:e.name,checked:!e.hidden,onChange:()=>o(e)}),(0,c.jsx)("label",{htmlFor:e.name,children:t})]},e.name):(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{type:"checkbox",id:e.name,checked:!e.hidden,onChange:()=>o(e)}),(0,c.jsx)("label",{htmlFor:e.name,children:t})]},e.name))}),[n,o,l]);return(0,c.jsxs)("div",{className:"show-rows relative",children:[(0,c.jsx)(S,{placement:"bottom",title:"rows",color:"secondry-color",children:(0,c.jsx)("i",{onClick:e=>{e.stopPropagation(),document.querySelector(".show-rows > article").classList.toggle("active")},className:"fa-solid fa-ellipsis-vertical"})}),(0,c.jsxs)("article",{onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("input",{type:"text",className:"search",placeholder:"search for row",value:l,onChange:e=>a(e.target.value.toLowerCase())}),i,(0,c.jsxs)("h4",{children:["rows avaible: ",(0,c.jsxs)("span",{children:[" ",null===i||void 0===i?void 0:i.length]})]})]})]})};document.addEventListener("click",()=>{const e=document.querySelector(".show-rows > article.active");null===e||void 0===e||e.classList.remove("active")});const P=e=>{let{colmuns:n,selectable:t,loading:r,currentPage:l,setPage:o,data:d,dataLength:m,setSort:h,selectedItems:p,setSelectedItems:x,delelteEndPoint:g,queryKey:A,heading:S,hideDeleteIconOnToolBar:y,addDataRoute:N,addIcons:C,children:w,setSearch:P,hidefilterIcon:I,returnRow:T}=e;const[M,O]=(0,s.useState)(n||[]),[R,F]=(0,s.useState)(!1),D=(0,s.useCallback)(()=>{x(new Set),F(!1)},[x]);console.log(g);const U=(0,s.useMemo)(()=>new f.A(g),[g]),L=(0,j.jE)(),z=(0,b.n)({mutationKey:[A],mutationFn:e=>U.deleteAll({ids:e}),onSuccess:()=>{(null===d||void 0===d?void 0:d.length)===(null===p||void 0===p?void 0:p.size)&&o(e=>1===e?e:e-1),F(!1),x(new Set),L.invalidateQueries({queryKey:[A]}),console.log("Deleted successfully")}}),E=(0,s.useCallback)(()=>{z.mutate([...p])},[z,p]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"table-container",children:[(0,c.jsx)(k,{heading:S,columns:M,setColumns:O,hideDeleteIcon:y,addDataRoute:N,selectedItems:p,setIsPopUpOpen:F,addIcons:C,children:w,setSearch:P,hidefilterIcon:I}),(0,c.jsx)("div",{className:"table",children:(0,c.jsxs)("table",{children:[(0,c.jsx)(a,{selectable:t,setSelectedItems:x,column:M,setSort:h,data:d,selectedItems:p}),(0,c.jsx)(i,{loading:r,column:M,data:d,selectable:t,selectedItems:p,setSelectedItems:x,setIsPopUpOpen:F,isPopUpOpen:R,returnRow:T})]})}),(0,c.jsx)(u,{currentPage:l,dataLength:m,setPage:o,setSelectedItems:x})]}),(0,c.jsx)(v,{isOpen:R,onClose:D,onConfirm:E,confirmButtonProps:{isSending:z.isLoading}})]})},I=(0,s.memo)(P)},6721:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(2555),r=t(3986),c=t(5043),l=(t(7430),t(579));const a=["disabled","isSending","isSendingText","children","btnStyleType","btnType","className"],o=e=>{let{disabled:n=!1,isSending:t=!1,isSendingText:o="",children:i,btnStyleType:d="contained",btnType:u="main",className:m=""}=e,h=(0,r.A)(e,a);const p=(0,c.useMemo)(()=>"btn ".concat(t?"sending":""," ").concat(d||"contained"," ").concat(u," ").concat(m||""),[m,t,d,u]),x=(0,c.useMemo)(()=>t?"".concat(o||"sending"," ..."):i,[t,o,i]);return(0,l.jsxs)("button",(0,s.A)((0,s.A)({disabled:n||t,className:p},h),{},{children:[t&&(0,l.jsx)("article",{className:"btn-loader"}),x]}))},i=(0,c.memo)(o)},6963:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(2555),r=t(3986),c=t(5043),l=t(579);const a=["children"],o=e=>{let{children:n}=e,t=(0,r.A)(e,a);return(0,l.jsx)("div",(0,s.A)((0,s.A)({},t),{},{children:n}))},i=(0,c.memo)(o)},7430:()=>{},7562:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(2555),r=t(3986),c=t(5043),l=t(579);const a=["isOpen","onClose","className","children"],o=e=>{let{isOpen:n=!1,onClose:t=()=>{},className:o,children:i}=e,d=(0,r.A)(e,a);const u=(0,c.useMemo)(()=>"popup ".concat(o||""),[o]);if(n)return(0,l.jsx)("div",{className:"overlay",onClick:t,children:(0,l.jsx)("div",(0,s.A)((0,s.A)({className:u},d),{},{children:i}))})},i=(0,c.memo)(o)}}]);
//# sourceMappingURL=557.c9b6bb06.chunk.js.map